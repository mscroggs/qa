<html><!-- Powered by Question2Answer - http://www.question2answer.org/ --><head>
		<meta http-equiv="content-type" content="text/html; charset=utf-8">
		<title>How to make sense of dofmap printout in c++ - FEniCS Q&amp;A</title>
		<meta name="description" content="Using the .str(true) method of the DofMap class I am able to print out the map. This appears to  ...  Local, global dof indices: 2, 0 Thank You, Ben">
		<meta name="keywords" content="dofmap">
		<link rel="stylesheet" type="text/css" href="../../qa-theme/Snow/qa-styles.css">
		<link rel="canonical" href="http://fenicsproject.org/qa/8013/how-to-make-sense-of-dofmap-printout-in-c">
		<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
    tex2jax: {inlineMath: [["$","$"],["\\(","\\)"]]},
    TeX: { extensions: ["AMSmath.js","AMSsymbols.js"]}
  });
</script>
<script type="text/javascript" src="../../mathjax/MathJax.js"></script>
		<script src="../../jquery-1.7.2.min.js" type="text/javascript"></script>
		<script src="../../highlight.min.js"></script>
<script type="text/javascript">
$(function(){
	$('.wmd-input').keypress(function(){
		window.clearTimeout(hljs.Timeout);
		hljs.Timeout = window.setTimeout(function() {
			hljs.initHighlighting.called = false;
			hljs.initHighlighting();
		}, 500);
	});
	window.setTimeout(function() {
		hljs.initHighlighting.called = false;
		hljs.initHighlighting();
	}, 500);
});
</script>


	</head>
	<body class="qa-template-question qa-body-js-off">
		<div class="qa-body-wrapper">
			
			<div class="qa-header">
				<div class="qa-logo">
					<a href="../../" class="qa-logo-link" title="FEniCS Q&amp;A"><img src="../../qa-theme/fenics_qa.png" border="0" alt="FEniCS Q&amp;A"></a>
				</div>
				<div class="qa-header-clear">
				</div>
			</div> <!-- END qa-header -->
			
			<div class="qa-main-shadow">
				
				<div class="qa-main-wrapper">
					
					<div class="qa-sidepanel">
						<div class="qa-sidebar">
							This is a read only copy of the old FEniCS QA forum. Please visit the <a href="https://www.allanswered.com/community/s/fenics-project/">new QA forum</a> to ask questions
						</div>
						
					</div>
					
					<div class="qa-main">
						<h1>
							<span class="entry-title">How to make sense of dofmap printout in c++</span>
						</h1>
						<div class="qa-part-q-view">
							<div class="qa-q-view  hentry question" id="q8013">
								<form method="post" action="../../8013/how-to-make-sense-of-dofmap-printout-in-c">
									<div class="qa-q-view-stats">
										<div class="qa-voting qa-voting-net" id="voting_8013">
											<div class="qa-vote-count qa-vote-count-net">
												<span class="qa-netvote-count">
													<span class="qa-netvote-count-data">0<span class="votes-up"><span class="value-title" title="0"></span></span><span class="votes-down"><span class="value-title" title="0"></span></span></span><span class="qa-netvote-count-pad"> votes</span>
												</span>
											</div>
											<div class="qa-vote-clear">
											</div>
										</div>
									</div>
									<input type="hidden" name="code" value="0-1516468152-c8477ab8d2dcd90b5e8b69e8878ad15e02827dd6">
								</form>
								<div class="qa-q-view-main">
									<form method="post" action="../../8013/how-to-make-sense-of-dofmap-printout-in-c">
										<div class="qa-q-view-content">
											<a name="8013"></a><div class="entry-content"><p>Using the .str(true) method of the DofMap class I am able to print out the map.  This appears to provide a local to global mapping of the dofs, but why are there global indices of 18169152 and 9374992?  and why are there two local indices mapping to the same global indices with in the same cell?  </p>

<p>Process 0: Number of global vertices: 9<br>
Process 0: Number of global cells: 8<br>
Process 0: Number of global vertices: 6<br>
Process 0: Number of global cells: 4<br>
<br>
Local cell index, cell dofmap dimension: 0, 3<br>
  Local, global dof indices: 0, 2<br>
  Local, global dof indices: 1, 3<br>
  Local, global dof indices: 2, 4<br>
Local cell index, cell dofmap dimension: 3, 3<br>
  Local, global dof indices: 0, 1<br>
  Local, global dof indices: 1, 0<br>
  Local, global dof indices: 2, 5<br>
Local cell index, cell dofmap dimension: 6, 3<br>
  Local, global dof indices: 0, 1<br>
  Local, global dof indices: 1, 1<br>
  Local, global dof indices: 2, 18169152<br>
Local cell index, cell dofmap dimension: 9, 3<br>
  Local, global dof indices: 0, 0<br>
  Local, global dof indices: 1, 0<br>
  Local, global dof indices: 2, 0</p>

<p><br>
Local cell index, cell dofmap dimension: 0, 3<br>
  Local, global dof indices: 0, 1<br>
  Local, global dof indices: 1, 0<br>
  Local, global dof indices: 2, 2<br>
Local cell index, cell dofmap dimension: 3, 3<br>
  Local, global dof indices: 0, 3<br>
  Local, global dof indices: 1, 5<br>
  Local, global dof indices: 2, 4<br>
Local cell index, cell dofmap dimension: 6, 3<br>
  Local, global dof indices: 0, 9374992<br>
  Local, global dof indices: 1, 0<br>
  Local, global dof indices: 2, 0<br>
Local cell index, cell dofmap dimension: 9, 3<br>
  Local, global dof indices: 0, 0<br>
  Local, global dof indices: 1, 0<br>
  Local, global dof indices: 2, 0</p>

<p>Thank You,</p>

<p>Ben</p>
</div>
										</div>
										<div class="qa-q-view-tags">
											<ul class="qa-q-view-tag-list">
												<li class="qa-q-view-tag-item"><a href="../../tag/dofmap" rel="tag" class="qa-tag-link">dofmap</a></li>
											</ul>
										</div>
										<span class="qa-q-view-avatar-meta">
											<span class="qa-q-view-meta">
												<a href="../../8013/how-to-make-sense-of-dofmap-printout-in-c" class="qa-q-view-what">asked</a>
												<span class="qa-q-view-when">
													<span class="qa-q-view-when-data"><span class="published"><span class="value-title" title="2015-09-03T16:07:03+0000"></span>Sep 3, 2015</span></span>
												</span>
												<span class="qa-q-view-who">
													<span class="qa-q-view-who-pad">by </span>
													<span class="qa-q-view-who-data"><span class="vcard author"><a href="../../user/brk888" class="qa-user-link url nickname">brk888</a></span></span>
													<span class="qa-q-view-who-title">FEniCS Novice</span>
													<span class="qa-q-view-who-points">
														<span class="qa-q-view-who-points-pad">(</span><span class="qa-q-view-who-points-data">990</span><span class="qa-q-view-who-points-pad"> points)</span>
													</span>
												</span>
											</span>
										</span>
										<div class="qa-q-view-buttons">
										</div>
										
										<div class="qa-q-view-c-list" id="c8013_list">
											<div class="qa-c-list-item  hentry comment" id="c8016">
												<div class="qa-c-item-content">
													<a name="8016"></a><div class="entry-content"><p>Which version of dolfin are you using?</p>
</div>
												</div>
												<div class="qa-c-item-footer">
													<span class="qa-c-item-avatar-meta">
														<span class="qa-c-item-meta">
															<a href="../../8013/how-to-make-sense-of-dofmap-printout-in-c?show=8016#c8016" class="qa-c-item-what">commented</a>
															<span class="qa-c-item-when">
																<span class="qa-c-item-when-data"><span class="published"><span class="value-title" title="2015-09-04T07:33:01+0000"></span>Sep 4, 2015</span></span>
															</span>
															<span class="qa-c-item-who">
																<span class="qa-c-item-who-pad">by </span>
																<span class="qa-c-item-who-data"><span class="vcard author"><a href="../../user/%C3%98yvind+Evju" class="qa-user-link url nickname">&#216;yvind Evju</a></span></span>
																<span class="qa-c-item-who-title">FEniCS Expert</span>
																<span class="qa-c-item-who-points">
																	<span class="qa-c-item-who-points-pad">(</span><span class="qa-c-item-who-points-data">17,700</span><span class="qa-c-item-who-points-pad"> points)</span>
																</span>
															</span>
														</span>
													</span>
													<div class="qa-c-item-buttons">
													</div>
												</div>
												<div class="qa-c-item-clear">
												</div>
											</div> <!-- END qa-c-item -->
											<div class="qa-c-list-item  hentry comment" id="c8029">
												<div class="qa-c-item-content">
													<a name="8029"></a><div class="entry-content"><p>I am using version 1.6</p>
</div>
												</div>
												<div class="qa-c-item-footer">
													<span class="qa-c-item-avatar-meta">
														<span class="qa-c-item-meta">
															<a href="../../8013/how-to-make-sense-of-dofmap-printout-in-c?show=8029#c8029" class="qa-c-item-what">commented</a>
															<span class="qa-c-item-when">
																<span class="qa-c-item-when-data"><span class="published"><span class="value-title" title="2015-09-04T17:08:59+0000"></span>Sep 4, 2015</span></span>
															</span>
															<span class="qa-c-item-who">
																<span class="qa-c-item-who-pad">by </span>
																<span class="qa-c-item-who-data"><span class="vcard author"><a href="../../user/brk888" class="qa-user-link url nickname">brk888</a></span></span>
																<span class="qa-c-item-who-title">FEniCS Novice</span>
																<span class="qa-c-item-who-points">
																	<span class="qa-c-item-who-points-pad">(</span><span class="qa-c-item-who-points-data">990</span><span class="qa-c-item-who-points-pad"> points)</span>
																</span>
															</span>
														</span>
													</span>
													<div class="qa-c-item-buttons">
													</div>
												</div>
												<div class="qa-c-item-clear">
												</div>
											</div> <!-- END qa-c-item -->
										</div> <!-- END qa-c-list -->
										
										<input type="hidden" name="code" value="0-1516468152-9029f92579e271e31ed5a4884f9eb87f95e13da0">
										<input type="hidden" name="qa_click" value="">
									</form>
									<div class="qa-c-form">
									</div> <!-- END qa-c-form -->
									
								</div> <!-- END qa-q-view-main -->
								<div class="qa-q-view-clear">
								</div>
							</div> <!-- END qa-q-view -->
							
						</div>
						<div class="qa-part-a-list">
							<h2 id="a_list_title">1 Answer</h2>
							<div class="qa-a-list" id="a_list">
								
								<div class="qa-a-list-item  hentry answer" id="a8017">
									<form method="post" action="../../8013/how-to-make-sense-of-dofmap-printout-in-c">
										<div class="qa-voting qa-voting-net" id="voting_8017">
											<div class="qa-vote-count qa-vote-count-net">
												<span class="qa-netvote-count">
													<span class="qa-netvote-count-data">0<span class="votes-up"><span class="value-title" title="0"></span></span><span class="votes-down"><span class="value-title" title="0"></span></span></span><span class="qa-netvote-count-pad"> votes</span>
												</span>
											</div>
											<div class="qa-vote-clear">
											</div>
										</div>
										<input type="hidden" name="code" value="0-1516468152-c8477ab8d2dcd90b5e8b69e8878ad15e02827dd6">
									</form>
									<div class="qa-a-item-main">
										<form method="post" action="../../8013/how-to-make-sense-of-dofmap-printout-in-c">
											<div class="qa-a-selection">
											</div>
											<div class="qa-a-item-content">
												<a name="8017"></a><div class="entry-content"><p>This is a bug in <code>DofMap.cpp</code> line 518, should be: </p>

<p><code>++i</code></p>

<p>not </p>

<p><code>i += _cell_dimension</code>.</p>

<p>I'll fix it. You can always use <code>dofmap.cell_dofs(i)</code> to get the same information.</p>
</div>
											</div>
											<span class="qa-a-item-avatar-meta">
												<span class="qa-a-item-avatar">
													<a href="../../user/chris_richardson" class="qa-avatar-link"><img src="https://www.gravatar.com/avatar/d779daeb727bcec8f6b2c505810042db?s=40" width="40" height="40" class="qa-avatar-image" alt=""></a>
												</span>
												<span class="qa-a-item-meta">
													<a href="../../8013/how-to-make-sense-of-dofmap-printout-in-c?show=8017#a8017" class="qa-a-item-what">answered</a>
													<span class="qa-a-item-when">
														<span class="qa-a-item-when-data"><span class="published"><span class="value-title" title="2015-09-04T11:09:28+0000"></span>Sep 4, 2015</span></span>
													</span>
													<span class="qa-a-item-who">
														<span class="qa-a-item-who-pad">by </span>
														<span class="qa-a-item-who-data"><span class="vcard author"><a href="../../user/chris_richardson" class="qa-user-link url nickname">chris_richardson</a></span></span>
														<span class="qa-a-item-who-title">FEniCS Expert</span>
														<span class="qa-a-item-who-points">
															<span class="qa-a-item-who-points-pad">(</span><span class="qa-a-item-who-points-data">31,740</span><span class="qa-a-item-who-points-pad"> points)</span>
														</span>
													</span>
												</span>
											</span>
											<div class="qa-a-item-buttons">
												</div>
											
											<div class="qa-a-item-c-list" id="c8017_list">
												<div class="qa-c-list-item  hentry comment" id="c8031">
													<div class="qa-c-item-content">
														<a name="8031"></a><div class="entry-content"><p>Thank You.  I saw that the bug was fixed, but I installed the latest dev build through the ubuntu ppa and I'm getting the same behaviour.</p>
</div>
													</div>
													<div class="qa-c-item-footer">
														<span class="qa-c-item-avatar-meta">
															<span class="qa-c-item-meta">
																<a href="../../8013/how-to-make-sense-of-dofmap-printout-in-c?show=8031#c8031" class="qa-c-item-what">commented</a>
																<span class="qa-c-item-when">
																	<span class="qa-c-item-when-data"><span class="published"><span class="value-title" title="2015-09-04T19:14:38+0000"></span>Sep 4, 2015</span></span>
																</span>
																<span class="qa-c-item-who">
																	<span class="qa-c-item-who-pad">by </span>
																	<span class="qa-c-item-who-data"><span class="vcard author"><a href="../../user/brk888" class="qa-user-link url nickname">brk888</a></span></span>
																	<span class="qa-c-item-who-title">FEniCS Novice</span>
																	<span class="qa-c-item-who-points">
																		<span class="qa-c-item-who-points-pad">(</span><span class="qa-c-item-who-points-data">990</span><span class="qa-c-item-who-points-pad"> points)</span>
																	</span>
																</span>
															</span>
														</span>
														<div class="qa-c-item-buttons">
														</div>
													</div>
													<div class="qa-c-item-clear">
													</div>
												</div> <!-- END qa-c-item -->
												<div class="qa-c-list-item  hentry comment" id="c8039">
													<div class="qa-c-item-content">
														<a name="8039"></a><div class="entry-content"><p>Download dev version from bitbucket to get latest fixes, or wait for a release. you can still use dofmap::cell_dofs to get same information</p>
</div>
													</div>
													<div class="qa-c-item-footer">
														<span class="qa-c-item-avatar-meta">
															<span class="qa-c-item-avatar">
																<a href="../../user/chris_richardson" class="qa-avatar-link"><img src="https://www.gravatar.com/avatar/d779daeb727bcec8f6b2c505810042db?s=20" width="20" height="20" class="qa-avatar-image" alt=""></a>
															</span>
															<span class="qa-c-item-meta">
																<a href="../../8013/how-to-make-sense-of-dofmap-printout-in-c?show=8039#c8039" class="qa-c-item-what">commented</a>
																<span class="qa-c-item-when">
																	<span class="qa-c-item-when-data"><span class="published"><span class="value-title" title="2015-09-05T12:21:18+0000"></span>Sep 5, 2015</span></span>
																</span>
																<span class="qa-c-item-who">
																	<span class="qa-c-item-who-pad">by </span>
																	<span class="qa-c-item-who-data"><span class="vcard author"><a href="../../user/chris_richardson" class="qa-user-link url nickname">chris_richardson</a></span></span>
																	<span class="qa-c-item-who-title">FEniCS Expert</span>
																	<span class="qa-c-item-who-points">
																		<span class="qa-c-item-who-points-pad">(</span><span class="qa-c-item-who-points-data">31,740</span><span class="qa-c-item-who-points-pad"> points)</span>
																	</span>
																</span>
															</span>
														</span>
														<div class="qa-c-item-buttons">
														</div>
													</div>
													<div class="qa-c-item-clear">
													</div>
												</div> <!-- END qa-c-item -->
											</div> <!-- END qa-c-list -->
											
											<input type="hidden" name="code" value="0-1516468152-f4de67570fb4fee11a4a76a936510193f569a093">
											<input type="hidden" name="qa_click" value="">
										</form>
										<div class="qa-c-form">
										</div> <!-- END qa-c-form -->
										
									</div> <!-- END qa-a-item-main -->
									<div class="qa-a-item-clear">
									</div>
								</div> <!-- END qa-a-list-item -->
								
							</div> <!-- END qa-a-list -->
							
						</div>
					</div> <!-- END qa-main -->
					
				</div> <!-- END main-wrapper -->
			</div> <!-- END main-shadow -->
		</div> <!-- END body-wrapper -->
		<!-- END footer-bottom-group -->
		
		<div style="position:absolute; left:-9999px; top:-9999px;">
			<span id="qa-waiting-template" class="qa-waiting">...</span>
		</div>
	
	

</body><!-- Powered by Question2Answer - http://www.question2answer.org/ --></html>