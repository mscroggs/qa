<html><!-- Powered by Question2Answer - http://www.question2answer.org/ --><head>
		<meta http-equiv="content-type" content="text/html; charset=utf-8">
		<title>Cannot define DG(0) RestrictedElement on facets - FEniCS Q&amp;A</title>
		<meta name="description" content="The following code fails: &gt; from dolfin import * &gt; mesh=UnitSquareMesh(5,5) &gt; Q = FunctionSpace( ... this my error, a bug or an unimplemented feature?">
		<link rel="stylesheet" type="text/css" href="../../qa-theme/Snow/qa-styles.css">
		<link rel="canonical" href="http://fenicsproject.org/qa/10731/cannot-define-dg-0-restrictedelement-on-facets">
		<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
    tex2jax: {inlineMath: [["$","$"],["\\(","\\)"]]},
    TeX: { extensions: ["AMSmath.js","AMSsymbols.js"]}
  });
</script>
<script type="text/javascript" src="../../mathjax/MathJax.js"></script>
		<script src="../../jquery-1.7.2.min.js" type="text/javascript"></script>
		<script src="../../highlight.min.js"></script>
<script type="text/javascript">
$(function(){
	$('.wmd-input').keypress(function(){
		window.clearTimeout(hljs.Timeout);
		hljs.Timeout = window.setTimeout(function() {
			hljs.initHighlighting.called = false;
			hljs.initHighlighting();
		}, 500);
	});
	window.setTimeout(function() {
		hljs.initHighlighting.called = false;
		hljs.initHighlighting();
	}, 500);
});
</script>


	</head>
	<body class="qa-template-question qa-body-js-off">
		<div class="qa-body-wrapper">
			
			<div class="qa-header">
				<div class="qa-logo">
					<a href="../../" class="qa-logo-link" title="FEniCS Q&amp;A"><img src="../../qa-theme/fenics_qa.png" border="0" alt="FEniCS Q&amp;A"></a>
				</div>
				<div class="qa-header-clear">
				</div>
			</div> <!-- END qa-header -->
			
			<div class="qa-main-shadow">
				
				<div class="qa-main-wrapper">
					
					<div class="qa-sidepanel">
						<div class="qa-sidebar">
							This is a read only copy of the old FEniCS QA forum. Please visit the <a href="https://www.allanswered.com/community/s/fenics-project/">new QA forum</a> to ask questions
						</div>
						
					</div>
					
					<div class="qa-main">
						<h1>
							<span class="entry-title">Cannot define DG(0) RestrictedElement on facets</span>
						</h1>
						<div class="qa-part-q-view">
							<div class="qa-q-view  hentry question" id="q10731">
								<form method="post" action="../../10731/cannot-define-dg-0-restrictedelement-on-facets">
									<div class="qa-q-view-stats">
										<div class="qa-voting qa-voting-net" id="voting_10731">
											<div class="qa-vote-count qa-vote-count-net">
												<span class="qa-netvote-count">
													<span class="qa-netvote-count-data">+1<span class="votes-up"><span class="value-title" title="1"></span></span><span class="votes-down"><span class="value-title" title="0"></span></span></span><span class="qa-netvote-count-pad"> vote</span>
												</span>
											</div>
											<div class="qa-vote-clear">
											</div>
										</div>
									</div>
									<input type="hidden" name="code" value="0-1516467075-14d79ede4aa33fbd67450d96b5ad2553c728a80f">
								</form>
								<div class="qa-q-view-main">
									<form method="post" action="../../10731/cannot-define-dg-0-restrictedelement-on-facets">
										<div class="qa-q-view-content">
											<a name="10731"></a><div class="entry-content"><p>The following code fails:</p>

<blockquote>
  <p>from dolfin import *<br>
  mesh=UnitSquareMesh(5,5)<br>
  Q  = FunctionSpace(mesh, "DG", 0, restriction="facet")</p>
</blockquote>

<p>The error message is, "No point in creating empty RestrictedElement."</p>

<p>I do not understand this error message in this context.  Piecewise-constants-on-facets should be a legitimate element, I think.  Is this my error, a bug or an unimplemented feature?</p>
</div>
										</div>
										<span class="qa-q-view-avatar-meta">
											<span class="qa-q-view-meta">
												<a href="../../10731/cannot-define-dg-0-restrictedelement-on-facets" class="qa-q-view-what">asked</a>
												<span class="qa-q-view-when">
													<span class="qa-q-view-when-data"><span class="published"><span class="value-title" title="2016-07-23T02:51:04+0000"></span>Jul 23, 2016</span></span>
												</span>
												<span class="qa-q-view-who">
													<span class="qa-q-view-who-pad">by </span>
													<span class="qa-q-view-who-data"><span class="vcard author"><a href="../../user/mike125" class="qa-user-link url nickname">mike125</a></span></span>
													<span class="qa-q-view-who-title">FEniCS Novice</span>
													<span class="qa-q-view-who-points">
														<span class="qa-q-view-who-points-pad">(</span><span class="qa-q-view-who-points-data">670</span><span class="qa-q-view-who-points-pad"> points)</span>
													</span>
												</span>
											</span>
										</span>
										<div class="qa-q-view-buttons">
										</div>
										
										<div class="qa-q-view-c-list" style="display:none;" id="c10731_list">
										</div> <!-- END qa-c-list -->
										
										<input type="hidden" name="code" value="0-1516467075-6ce6e48ed2cc598d48e551facf9dfd10617bb060">
										<input type="hidden" name="qa_click" value="">
									</form>
									<div class="qa-c-form">
									</div> <!-- END qa-c-form -->
									
								</div> <!-- END qa-q-view-main -->
								<div class="qa-q-view-clear">
								</div>
							</div> <!-- END qa-q-view -->
							
						</div>
						<div class="qa-part-a-list">
							<h2 id="a_list_title">1 Answer</h2>
							<div class="qa-a-list" id="a_list">
								
								<div class="qa-a-list-item  hentry answer" id="a10734">
									<form method="post" action="../../10731/cannot-define-dg-0-restrictedelement-on-facets">
										<div class="qa-voting qa-voting-net" id="voting_10734">
											<div class="qa-vote-count qa-vote-count-net">
												<span class="qa-netvote-count">
													<span class="qa-netvote-count-data">0<span class="votes-up"><span class="value-title" title="0"></span></span><span class="votes-down"><span class="value-title" title="0"></span></span></span><span class="qa-netvote-count-pad"> votes</span>
												</span>
											</div>
											<div class="qa-vote-clear">
											</div>
										</div>
										<input type="hidden" name="code" value="0-1516467075-14d79ede4aa33fbd67450d96b5ad2553c728a80f">
									</form>
									<div class="qa-a-item-main">
										<form method="post" action="../../10731/cannot-define-dg-0-restrictedelement-on-facets">
											<div class="qa-a-selection">
											</div>
											<div class="qa-a-item-content">
												<a name="10734"></a><div class="entry-content"><p>Restricting DG0 to facets is rather pointless. The element has no degrees of freedom associated with edges and the element degree of freedom couples all edge traces, so in terms of approximation properties this would result in an awful element. Note that we DON'T have one DOF per edge here as we would have for instance when restricting RT1, which is often referred to as RT0 outside of the FEniCS universe. I guess this is why it is not allowed. There may be internal reasons too... Probably the restriction operator constrains the element DOFs, thus leaves nothing left to work with in your case.</p>
</div>
											</div>
											<span class="qa-a-item-avatar-meta">
												<span class="qa-a-item-meta">
													<a href="../../10731/cannot-define-dg-0-restrictedelement-on-facets?show=10734#a10734" class="qa-a-item-what">answered</a>
													<span class="qa-a-item-when">
														<span class="qa-a-item-when-data"><span class="published"><span class="value-title" title="2016-07-25T21:29:40+0000"></span>Jul 25, 2016</span></span>
													</span>
													<span class="qa-a-item-who">
														<span class="qa-a-item-who-pad">by </span>
														<span class="qa-a-item-who-data"><span class="vcard author"><a href="../../user/Christian+Waluga" class="qa-user-link url nickname">Christian Waluga</a></span></span>
														<span class="qa-a-item-who-title">FEniCS Expert</span>
														<span class="qa-a-item-who-points">
															<span class="qa-a-item-who-points-pad">(</span><span class="qa-a-item-who-points-data">12,310</span><span class="qa-a-item-who-points-pad"> points)</span>
														</span>
													</span>
												</span>
											</span>
											<div class="qa-a-item-buttons">
												</div>
											
											<div class="qa-a-item-c-list" id="c10734_list">
												<div class="qa-c-list-item " id="q10741">
													<a href="../../10741/how-to-generate-a-mesh-of-facets-of-existing-mesh" class="qa-c-item-link">How to generate a mesh of facets of existing  mesh.</a>
													<div class="qa-c-item-footer">
														<span class="qa-c-item-avatar-meta">
															<span class="qa-c-item-meta">
																<span class="qa-c-item-what">asked</span>
																<span class="qa-c-item-when">
																	<span class="qa-c-item-when-data">Jul 26, 2016</span>
																</span>
																<span class="qa-c-item-who">
																	<span class="qa-c-item-who-pad">by </span>
																	<span class="qa-c-item-who-data"><a href="../../user/mike125" class="qa-user-link url nickname">mike125</a></span>
																	<span class="qa-c-item-who-title">FEniCS Novice</span>
																	<span class="qa-c-item-who-points">
																		<span class="qa-c-item-who-points-pad">(</span><span class="qa-c-item-who-points-data">670</span><span class="qa-c-item-who-points-pad"> points)</span>
																	</span>
																</span>
															</span>
														</span>
													</div>
													<div class="qa-c-item-clear">
													</div>
												</div> <!-- END qa-c-item -->
											</div> <!-- END qa-c-list -->
											
											<input type="hidden" name="code" value="0-1516467075-facf53539fd559d5c56db9d2b585c8a8cf45bb29">
											<input type="hidden" name="qa_click" value="">
										</form>
										<div class="qa-c-form">
										</div> <!-- END qa-c-form -->
										
									</div> <!-- END qa-a-item-main -->
									<div class="qa-a-item-clear">
									</div>
								</div> <!-- END qa-a-list-item -->
								
							</div> <!-- END qa-a-list -->
							
						</div>
					</div> <!-- END qa-main -->
					
				</div> <!-- END main-wrapper -->
			</div> <!-- END main-shadow -->
		</div> <!-- END body-wrapper -->
		<!-- END footer-bottom-group -->
		
		<div style="position:absolute; left:-9999px; top:-9999px;">
			<span id="qa-waiting-template" class="qa-waiting">...</span>
		</div>
	
	

</body><!-- Powered by Question2Answer - http://www.question2answer.org/ --></html>