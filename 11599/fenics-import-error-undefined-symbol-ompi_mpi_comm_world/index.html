<html><!-- Powered by Question2Answer - http://www.question2answer.org/ --><head>
		<meta http-equiv="content-type" content="text/html; charset=utf-8">
		<title>fenics import error: undefined symbol: ompi_mpi_comm_world - FEniCS Q&amp;A</title>
		<meta name="description" content="Dear all, I'm coding my FEniCS code under Pycharm and every is ok, I can run it and see the ...  problem happen. Hope someone can help me. Thank you.">
		<meta name="keywords" content="fenics,error,fenics-dolfin-openmp,import,dolfin">
		<link rel="stylesheet" type="text/css" href="../../qa-theme/Snow/qa-styles.css">
		<link rel="canonical" href="http://fenicsproject.org/qa/11599/fenics-import-error-undefined-symbol-ompi_mpi_comm_world">
		<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
    tex2jax: {inlineMath: [["$","$"],["\\(","\\)"]]},
    TeX: { extensions: ["AMSmath.js","AMSsymbols.js"]}
  });
</script>
<script type="text/javascript" src="../../mathjax/MathJax.js"></script>
		<script src="../../jquery-1.7.2.min.js" type="text/javascript"></script>
		<script src="../../highlight.min.js"></script>
<script type="text/javascript">
$(function(){
	$('.wmd-input').keypress(function(){
		window.clearTimeout(hljs.Timeout);
		hljs.Timeout = window.setTimeout(function() {
			hljs.initHighlighting.called = false;
			hljs.initHighlighting();
		}, 500);
	});
	window.setTimeout(function() {
		hljs.initHighlighting.called = false;
		hljs.initHighlighting();
	}, 500);
});
</script>


	</head>
	<body class="qa-template-question qa-body-js-off">
		<div class="qa-body-wrapper">
			
			<div class="qa-header">
				<div class="qa-logo">
					<a href="../../" class="qa-logo-link" title="FEniCS Q&amp;A"><img src="../../qa-theme/fenics_qa.png" border="0" alt="FEniCS Q&amp;A"></a>
				</div>
				<div class="qa-header-clear">
				</div>
			</div> <!-- END qa-header -->
			
			<div class="qa-main-shadow">
				
				<div class="qa-main-wrapper">
					
					<div class="qa-sidepanel">
						<div class="qa-sidebar">
							This is a read only copy of the old FEniCS QA forum. Please visit the <a href="https://www.allanswered.com/community/s/fenics-project/">new QA forum</a> to ask questions
						</div>
						
					</div>
					
					<div class="qa-main">
						<h1>
							<span class="entry-title">fenics import error: undefined symbol: ompi_mpi_comm_world</span>
						</h1>
						<div class="qa-part-q-view">
							<div class="qa-q-view  hentry question" id="q11599">
								<form method="post" action="../../11599/fenics-import-error-undefined-symbol-ompi_mpi_comm_world">
									<div class="qa-q-view-stats">
										<div class="qa-voting qa-voting-net" id="voting_11599">
											<div class="qa-vote-count qa-vote-count-net">
												<span class="qa-netvote-count">
													<span class="qa-netvote-count-data">0<span class="votes-up"><span class="value-title" title="0"></span></span><span class="votes-down"><span class="value-title" title="0"></span></span></span><span class="qa-netvote-count-pad"> votes</span>
												</span>
											</div>
											<div class="qa-vote-clear">
											</div>
										</div>
									</div>
									<input type="hidden" name="code" value="0-1516467775-aa958899a3bde2578543da8aceacc3709504ad21">
								</form>
								<div class="qa-q-view-main">
									<form method="post" action="../../11599/fenics-import-error-undefined-symbol-ompi_mpi_comm_world">
										<div class="qa-q-view-content">
											<a name="11599"></a><div class="entry-content"><p>Dear all,<br>
   I'm coding my FEniCS code under Pycharm and every is ok, I can run it and see the results. But when I try to run it under the terminal by just type: <br>
  python myFEniCS-Code.py<br>
  Then I received this error. So now I can only run my code by PyCharm, this is not so convenient. How can I solve it? Maybe this is a very stupid question, I'm a very new FEniCSer. Thank you!</p>

<p>Python 2.7.12 (default, Jul  1 2016, 15:12:24) <br>
[GCC 5.4.0 20160609] on linux2<br>
Type "help", "copyright", "credits" or "license" for more information.</p>

<blockquote>
  <blockquote>
    <blockquote>
      <p>import dolfin<br>
      Traceback (most recent call last):<br>
        File "", line 1, in <br>
        File "/usr/lib/python2.7/dist-packages/dolfin/<strong>init</strong>.py", line 17, in <br>
          from . import cpp<br>
        File "/usr/lib/python2.7/dist-packages/dolfin/cpp/<strong>init</strong>.py", line 43, in <br>
          exec("from . import %s" % module_name)<br>
        File "", line 1, in <br>
        File "/usr/lib/python2.7/dist-packages/dolfin/cpp/common.py", line 32, in <br>
          _common = swig_import_helper()<br>
        File "/usr/lib/python2.7/dist-packages/dolfin/cpp/common.py", line 28, in swig_import_helper<br>
          _mod = imp.load_module('_common', fp, pathname, description)<br>
      ImportError: /usr/lib/libblacsCinit-openmpi.so.1: undefined symbol: ompi_mpi_comm_world</p>
    </blockquote>
  </blockquote>
</blockquote>

<p>I checked my /usr/lib, and I find I have the libblacsCinit-openmpi.so.1 file, so I don't know why this problem happen. </p>

<p>Hope someone can help me.<br>
Thank you.</p>
</div>
										</div>
										<div class="qa-q-view-tags">
											<ul class="qa-q-view-tag-list">
												<li class="qa-q-view-tag-item"><a href="../../tag/fenics" rel="tag" class="qa-tag-link">fenics</a></li>
												<li class="qa-q-view-tag-item"><a href="../../tag/error" rel="tag" class="qa-tag-link">error</a></li>
												<li class="qa-q-view-tag-item"><a href="../../tag/fenics-dolfin-openmp" rel="tag" class="qa-tag-link">fenics-dolfin-openmp</a></li>
												<li class="qa-q-view-tag-item"><a href="../../tag/import" rel="tag" class="qa-tag-link">import</a></li>
												<li class="qa-q-view-tag-item"><a href="../../tag/dolfin" rel="tag" class="qa-tag-link">dolfin</a></li>
											</ul>
										</div>
										<span class="qa-q-view-avatar-meta">
											<span class="qa-q-view-meta">
												<a href="../../11599/fenics-import-error-undefined-symbol-ompi_mpi_comm_world" class="qa-q-view-what">asked</a>
												<span class="qa-q-view-when">
													<span class="qa-q-view-when-data"><span class="published"><span class="value-title" title="2016-11-11T13:13:36+0000"></span>Nov 11, 2016</span></span>
												</span>
												<span class="qa-q-view-who">
													<span class="qa-q-view-who-pad">by </span>
													<span class="qa-q-view-who-data"><span class="vcard author"><a href="../../user/walkandthink" class="qa-user-link url nickname">walkandthink</a></span></span>
													<span class="qa-q-view-who-title">FEniCS Novice</span>
													<span class="qa-q-view-who-points">
														<span class="qa-q-view-who-points-pad">(</span><span class="qa-q-view-who-points-data">320</span><span class="qa-q-view-who-points-pad"> points)</span>
													</span>
												</span>
											</span>
										</span>
										<div class="qa-q-view-buttons">
										</div>
										
										<div class="qa-q-view-c-list" id="c11599_list">
											<div class="qa-c-list-item  hentry comment" id="c11620">
												<div class="qa-c-item-content">
													<a name="11620"></a><div class="entry-content"><p>The error tells you not that the file is missing, but that it doesn't contain a particular symbol (i.e. function definition): ompi_mpi_comm_world. This probably means that you have several versions installed and dolfin is not finding the right one. Could it be that you installed FEniCS using virtualenv or conda and you are not running the right python interpreter? Look for the interpreter in the Pycharm's project configuration and compare it with the one you run from the console.</p>
</div>
												</div>
												<div class="qa-c-item-footer">
													<span class="qa-c-item-avatar-meta">
														<span class="qa-c-item-avatar">
															<a href="../../user/mdbenito" class="qa-avatar-link"><img src="https://www.gravatar.com/avatar/6545a7c3ba26a36c62facacf39cb4b51?s=20" width="20" height="20" class="qa-avatar-image" alt=""></a>
														</span>
														<span class="qa-c-item-meta">
															<a href="../../11599/fenics-import-error-undefined-symbol-ompi_mpi_comm_world?show=11620#c11620" class="qa-c-item-what">commented</a>
															<span class="qa-c-item-when">
																<span class="qa-c-item-when-data"><span class="published"><span class="value-title" title="2016-11-14T15:27:31+0000"></span>Nov 14, 2016</span></span>
															</span>
															<span class="qa-c-item-who">
																<span class="qa-c-item-who-pad">by </span>
																<span class="qa-c-item-who-data"><span class="vcard author"><a href="../../user/mdbenito" class="qa-user-link url nickname">mdbenito</a></span></span>
																<span class="qa-c-item-who-title">FEniCS User</span>
																<span class="qa-c-item-who-points">
																	<span class="qa-c-item-who-points-pad">(</span><span class="qa-c-item-who-points-data">4,530</span><span class="qa-c-item-who-points-pad"> points)</span>
																</span>
															</span>
															<br>
															<span class="qa-c-item-what">edited</span>
															<span class="qa-c-item-when">
																<span class="qa-c-item-when-data"><span class="updated"><span class="value-title" title="2016-11-14T17:02:46+0000"></span>Nov 14, 2016</span></span>
															</span>
															<span class="qa-c-item-who">
																<span class="qa-c-item-who-pad">by </span><span class="qa-c-item-who-data"><a href="../../user/mdbenito" class="qa-user-link url nickname">mdbenito</a></span>
															</span>
														</span>
													</span>
													<div class="qa-c-item-buttons">
													</div>
												</div>
												<div class="qa-c-item-clear">
												</div>
											</div> <!-- END qa-c-item -->
											<div class="qa-c-list-item  hentry comment" id="c12068">
												<div class="qa-c-item-content">
													<a name="12068"></a><div class="entry-content"><p>Thank you for the reply.<br>
Its the python interpterter.<br>
I'm running it under Ubuntu not a virtual PC.</p>
</div>
												</div>
												<div class="qa-c-item-footer">
													<span class="qa-c-item-avatar-meta">
														<span class="qa-c-item-meta">
															<a href="../../11599/fenics-import-error-undefined-symbol-ompi_mpi_comm_world?show=12068#c12068" class="qa-c-item-what">commented</a>
															<span class="qa-c-item-when">
																<span class="qa-c-item-when-data"><span class="published"><span class="value-title" title="2017-01-05T13:00:12+0000"></span>Jan 5, 2017</span></span>
															</span>
															<span class="qa-c-item-who">
																<span class="qa-c-item-who-pad">by </span>
																<span class="qa-c-item-who-data"><span class="vcard author"><a href="../../user/walkandthink" class="qa-user-link url nickname">walkandthink</a></span></span>
																<span class="qa-c-item-who-title">FEniCS Novice</span>
																<span class="qa-c-item-who-points">
																	<span class="qa-c-item-who-points-pad">(</span><span class="qa-c-item-who-points-data">320</span><span class="qa-c-item-who-points-pad"> points)</span>
																</span>
															</span>
														</span>
													</span>
													<div class="qa-c-item-buttons">
													</div>
												</div>
												<div class="qa-c-item-clear">
												</div>
											</div> <!-- END qa-c-item -->
											<div class="qa-c-list-item  hentry comment" id="c12231">
												<div class="qa-c-item-content">
													<a name="12231"></a><div class="entry-content"><p><a rel="nofollow" href="https://virtualenv.pypa.io/en/stable/">virtualenv</a> is not a virtualization technology like VirtualBox or Parallels, but a way of managing multiple independent python installations with packages, dependencies, etc. So is <a rel="nofollow" href="http://conda.pydata.org/docs/intro.html">conda</a>.</p>
</div>
												</div>
												<div class="qa-c-item-footer">
													<span class="qa-c-item-avatar-meta">
														<span class="qa-c-item-avatar">
															<a href="../../user/mdbenito" class="qa-avatar-link"><img src="https://www.gravatar.com/avatar/6545a7c3ba26a36c62facacf39cb4b51?s=20" width="20" height="20" class="qa-avatar-image" alt=""></a>
														</span>
														<span class="qa-c-item-meta">
															<a href="../../11599/fenics-import-error-undefined-symbol-ompi_mpi_comm_world?show=12231#c12231" class="qa-c-item-what">commented</a>
															<span class="qa-c-item-when">
																<span class="qa-c-item-when-data"><span class="published"><span class="value-title" title="2017-01-24T10:06:23+0000"></span>Jan 24, 2017</span></span>
															</span>
															<span class="qa-c-item-who">
																<span class="qa-c-item-who-pad">by </span>
																<span class="qa-c-item-who-data"><span class="vcard author"><a href="../../user/mdbenito" class="qa-user-link url nickname">mdbenito</a></span></span>
																<span class="qa-c-item-who-title">FEniCS User</span>
																<span class="qa-c-item-who-points">
																	<span class="qa-c-item-who-points-pad">(</span><span class="qa-c-item-who-points-data">4,530</span><span class="qa-c-item-who-points-pad"> points)</span>
																</span>
															</span>
														</span>
													</span>
													<div class="qa-c-item-buttons">
													</div>
												</div>
												<div class="qa-c-item-clear">
												</div>
											</div> <!-- END qa-c-item -->
										</div> <!-- END qa-c-list -->
										
										<input type="hidden" name="code" value="0-1516467775-8128ae71419c6b8103c5cdfbedb28b006a1889d9">
										<input type="hidden" name="qa_click" value="">
									</form>
									<div class="qa-c-form">
									</div> <!-- END qa-c-form -->
									
								</div> <!-- END qa-q-view-main -->
								<div class="qa-q-view-clear">
								</div>
							</div> <!-- END qa-q-view -->
							
						</div>
						<div class="qa-part-a-list">
							<h2 id="a_list_title" style="display:none;"></h2>
							<div class="qa-a-list" id="a_list">
								
							</div> <!-- END qa-a-list -->
							
						</div>
					</div> <!-- END qa-main -->
					
				</div> <!-- END main-wrapper -->
			</div> <!-- END main-shadow -->
		</div> <!-- END body-wrapper -->
		<!-- END footer-bottom-group -->
		
		<div style="position:absolute; left:-9999px; top:-9999px;">
			<span id="qa-waiting-template" class="qa-waiting">...</span>
		</div>
	
	

</body><!-- Powered by Question2Answer - http://www.question2answer.org/ --></html>