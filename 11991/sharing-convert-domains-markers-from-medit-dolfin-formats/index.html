<html><!-- Powered by Question2Answer - http://www.question2answer.org/ --><head>
		<meta http-equiv="content-type" content="text/html; charset=utf-8">
		<title>Code sharing: e.g. convert WITH DOMAINS MARKERS from Medit to Dolfin-formats - FEniCS Q&amp;A</title>
		<meta name="description" content="Hi everyone, I'm probably not the only one who had restrictions due to the lack of converting  ... for a new EM demo/Tutorial? Kind regards, Raphael">
		<meta name="keywords" content="code-sharing,domain-marker,demo,curl-problems">
		<link rel="stylesheet" type="text/css" href="../../qa-theme/Snow/qa-styles.css">
		<link rel="canonical" href="http://fenicsproject.org/qa/11991/sharing-convert-domains-markers-from-medit-dolfin-formats">
		<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
    tex2jax: {inlineMath: [["$","$"],["\\(","\\)"]]},
    TeX: { extensions: ["AMSmath.js","AMSsymbols.js"]}
  });
</script>
<script type="text/javascript" src="../../mathjax/MathJax.js"></script>
		<script src="../../jquery-1.7.2.min.js" type="text/javascript"></script>
		<script src="../../highlight.min.js"></script>
<script type="text/javascript">
$(function(){
	$('.wmd-input').keypress(function(){
		window.clearTimeout(hljs.Timeout);
		hljs.Timeout = window.setTimeout(function() {
			hljs.initHighlighting.called = false;
			hljs.initHighlighting();
		}, 500);
	});
	window.setTimeout(function() {
		hljs.initHighlighting.called = false;
		hljs.initHighlighting();
	}, 500);
});
</script>


	</head>
	<body class="qa-template-question qa-body-js-off">
		<div class="qa-body-wrapper">
			
			<div class="qa-header">
				<div class="qa-logo">
					<a href="../../" class="qa-logo-link" title="FEniCS Q&amp;A"><img src="../../qa-theme/fenics_qa.png" border="0" alt="FEniCS Q&amp;A"></a>
				</div>
				<div class="qa-header-clear">
				</div>
			</div> <!-- END qa-header -->
			
			<div class="qa-main-shadow">
				
				<div class="qa-main-wrapper">
					
					<div class="qa-sidepanel">
						<div class="qa-sidebar">
							This is a read only copy of the old FEniCS QA forum. Please visit the <a href="https://www.allanswered.com/community/s/fenics-project/">new QA forum</a> to ask questions
						</div>
						
					</div>
					
					<div class="qa-main">
						<h1>
							<span class="entry-title">Code sharing: e.g. convert WITH DOMAINS MARKERS from Medit to Dolfin-formats</span>
						</h1>
						<div class="qa-part-q-view">
							<div class="qa-q-view  hentry question" id="q11991">
								<form method="post" action="../../11991/sharing-convert-domains-markers-from-medit-dolfin-formats">
									<div class="qa-q-view-stats">
										<div class="qa-voting qa-voting-net" id="voting_11991">
											<div class="qa-vote-count qa-vote-count-net">
												<span class="qa-netvote-count">
													<span class="qa-netvote-count-data">0<span class="votes-up"><span class="value-title" title="0"></span></span><span class="votes-down"><span class="value-title" title="0"></span></span></span><span class="qa-netvote-count-pad"> votes</span>
												</span>
											</div>
											<div class="qa-vote-clear">
											</div>
										</div>
									</div>
									<input type="hidden" name="code" value="0-1516467802-8a297d87ce3c23f233077366094111051726e271">
								</form>
								<div class="qa-q-view-main">
									<form method="post" action="../../11991/sharing-convert-domains-markers-from-medit-dolfin-formats">
										<div class="qa-q-view-content">
											<a name="11991"></a><div class="entry-content"><p>Hi everyone,</p>

<p>I'm probably not the only one who had restrictions due to the lack of converting domain markers using dolfin-convert, at least this is the case if you use TetGen's Medit (.mesh) format as input, which is a realy basic issue that fits not in the overall suitability of FEniCS in my opinion.<br>
It is important for me, because I have arbitrarily shaped domains I can easily mark with TetGen PLCs but not with the standard FEniCS way anymore, e.g.:</p>

<pre><code>class Obstacle(SubDomain):
    def inside(self, x, on_boundary):
        return (between(x[1], (0.5, 0.7)) and 
                between(x[0], (0.2, 1.0)))
</code></pre>

<p>If it would be even possible, it is inefficient to mark domains another time in FEniCS with long expressions instead of a few values using Tetgen. Thus, I manipulated dolfin-convert (easier than I thought) in just 2 hours and now I can automatically convert boundary- and domain markers from Medit .mesh format to .xml and also HDF5 (.h5) for parallelization support.</p>

<ol>
<li>Is it only a Medit's .mesh to .xml problem?</li>
<li>Is there any other solution I missed?</li>
<li><p>If there are others dealing with the same problem, I would like to share my code, maybe also as a template for doing the same with the other Input-formats like Gmesh. Is anyone interested in this?, Is there a platform for this?</p></li>
<li><p>Despite this, I would like to share further code probably interested for some of us. I'm working on electromagnetic problems in geophysics and spent lots of time to find out how to implement more complicated curl-curl problems with imaginary numbers, source expressions, arbitrary domains, solvers etc., kind of a real FEniCS project with Python classes now. It would be way more information than the curl-curl-demo, which was my starting point, and cost me only a few hours. Is there an interest for a new EM demo/Tutorial?</p></li>
</ol>

<p>Kind regards, Raphael</p>
</div>
										</div>
										<div class="qa-q-view-tags">
											<ul class="qa-q-view-tag-list">
												<li class="qa-q-view-tag-item"><a href="../../tag/code-sharing" rel="tag" class="qa-tag-link">code-sharing</a></li>
												<li class="qa-q-view-tag-item"><a href="../../tag/domain-marker" rel="tag" class="qa-tag-link">domain-marker</a></li>
												<li class="qa-q-view-tag-item"><a href="../../tag/demo" rel="tag" class="qa-tag-link">demo</a></li>
												<li class="qa-q-view-tag-item"><a href="../../tag/curl-problems" rel="tag" class="qa-tag-link">curl-problems</a></li>
											</ul>
										</div>
										<span class="qa-q-view-avatar-meta">
											<span class="qa-q-view-meta">
												<a href="../../11991/sharing-convert-domains-markers-from-medit-dolfin-formats" class="qa-q-view-what">asked</a>
												<span class="qa-q-view-when">
													<span class="qa-q-view-when-data"><span class="published"><span class="value-title" title="2016-12-20T12:34:39+0000"></span>Dec 20, 2016</span></span>
												</span>
												<span class="qa-q-view-who">
													<span class="qa-q-view-who-pad">by </span>
													<span class="qa-q-view-who-data"><span class="vcard author"><a href="../../user/RR" class="qa-user-link url nickname">RR</a></span></span>
													<span class="qa-q-view-who-title">FEniCS User</span>
													<span class="qa-q-view-who-points">
														<span class="qa-q-view-who-points-pad">(</span><span class="qa-q-view-who-points-data">3,330</span><span class="qa-q-view-who-points-pad"> points)</span>
													</span>
												</span>
											</span>
										</span>
										<div class="qa-q-view-buttons">
										</div>
										
										<div class="qa-q-view-c-list" id="c11991_list">
											<div class="qa-c-list-item  hentry comment" id="c12003">
												<div class="qa-c-item-content">
													<a name="12003"></a><div class="entry-content"><p>Hi, for 3 I think posting a link here to some git repository is sufficient. Same goes for 4 but if you want the demo to be official you should swing the idea by the FEniCS dev mailing list. </p>
</div>
												</div>
												<div class="qa-c-item-footer">
													<span class="qa-c-item-avatar-meta">
														<span class="qa-c-item-avatar">
															<a href="../../user/MiroK" class="qa-avatar-link"><img src="https://www.gravatar.com/avatar/f566be3274ec73e3a6dda27bca11631c?s=20" width="20" height="20" class="qa-avatar-image" alt=""></a>
														</span>
														<span class="qa-c-item-meta">
															<a href="../../11991/sharing-convert-domains-markers-from-medit-dolfin-formats?show=12003#c12003" class="qa-c-item-what">commented</a>
															<span class="qa-c-item-when">
																<span class="qa-c-item-when-data"><span class="published"><span class="value-title" title="2016-12-21T14:38:51+0000"></span>Dec 21, 2016</span></span>
															</span>
															<span class="qa-c-item-who">
																<span class="qa-c-item-who-pad">by </span>
																<span class="qa-c-item-who-data"><span class="vcard author"><a href="../../user/MiroK" class="qa-user-link url nickname">MiroK</a></span></span>
																<span class="qa-c-item-who-title">FEniCS Expert</span>
																<span class="qa-c-item-who-points">
																	<span class="qa-c-item-who-points-pad">(</span><span class="qa-c-item-who-points-data">80,920</span><span class="qa-c-item-who-points-pad"> points)</span>
																</span>
															</span>
														</span>
													</span>
													<div class="qa-c-item-buttons">
													</div>
												</div>
												<div class="qa-c-item-clear">
												</div>
											</div> <!-- END qa-c-item -->
										</div> <!-- END qa-c-list -->
										
										<input type="hidden" name="code" value="0-1516467802-e900b7be302638ce809e3ca5a5f297b52d9e21ed">
										<input type="hidden" name="qa_click" value="">
									</form>
									<div class="qa-c-form">
									</div> <!-- END qa-c-form -->
									
								</div> <!-- END qa-q-view-main -->
								<div class="qa-q-view-clear">
								</div>
							</div> <!-- END qa-q-view -->
							
						</div>
						<div class="qa-part-a-list">
							<h2 id="a_list_title" style="display:none;"></h2>
							<div class="qa-a-list" id="a_list">
								
							</div> <!-- END qa-a-list -->
							
						</div>
					</div> <!-- END qa-main -->
					
				</div> <!-- END main-wrapper -->
			</div> <!-- END main-shadow -->
		</div> <!-- END body-wrapper -->
		<!-- END footer-bottom-group -->
		
		<div style="position:absolute; left:-9999px; top:-9999px;">
			<span id="qa-waiting-template" class="qa-waiting">...</span>
		</div>
	
	

</body><!-- Powered by Question2Answer - http://www.question2answer.org/ --></html>