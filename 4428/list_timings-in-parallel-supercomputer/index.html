<html><!-- Powered by Question2Answer - http://www.question2answer.org/ --><head>
		<meta http-equiv="content-type" content="text/html; charset=utf-8">
		<title>list_timings in parallel (supercomputer) - FEniCS Q&amp;A</title>
		<meta name="description" content="I'm working on my master thesis and want to make a scaling and profiling of FEniCS.  ...  interesting information of my program? best regards, Thomas">
		<meta name="keywords" content="parallel,supercomputer,timers,collect-information,list_timings">
		<link rel="stylesheet" type="text/css" href="../../qa-theme/Snow/qa-styles.css">
		<link rel="canonical" href="http://fenicsproject.org/qa/4428/list_timings-in-parallel-supercomputer">
		<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
    tex2jax: {inlineMath: [["$","$"],["\\(","\\)"]]},
    TeX: { extensions: ["AMSmath.js","AMSsymbols.js"]}
  });
</script>
<script type="text/javascript" src="../../mathjax/MathJax.js"></script>
		<script src="../../jquery-1.7.2.min.js" type="text/javascript"></script>
		<script src="../../highlight.min.js"></script>
<script type="text/javascript">
$(function(){
	$('.wmd-input').keypress(function(){
		window.clearTimeout(hljs.Timeout);
		hljs.Timeout = window.setTimeout(function() {
			hljs.initHighlighting.called = false;
			hljs.initHighlighting();
		}, 500);
	});
	window.setTimeout(function() {
		hljs.initHighlighting.called = false;
		hljs.initHighlighting();
	}, 500);
});
</script>


	</head>
	<body class="qa-template-question qa-body-js-off">
		<div class="qa-body-wrapper">
			
			<div class="qa-header">
				<div class="qa-logo">
					<a href="../../" class="qa-logo-link" title="FEniCS Q&amp;A"><img src="../../qa-theme/fenics_qa.png" border="0" alt="FEniCS Q&amp;A"></a>
				</div>
				<div class="qa-header-clear">
				</div>
			</div> <!-- END qa-header -->
			
			<div class="qa-main-shadow">
				
				<div class="qa-main-wrapper">
					
					<div class="qa-sidepanel">
						<div class="qa-sidebar">
							This is a read only copy of the old FEniCS QA forum. Please visit the <a href="https://www.allanswered.com/community/s/fenics-project/">new QA forum</a> to ask questions
						</div>
						
					</div>
					
					<div class="qa-main">
						<h1>
							<span class="entry-title">list_timings in parallel (supercomputer)</span>
						</h1>
						<div class="qa-part-q-view">
							<div class="qa-q-view  hentry question" id="q4428">
								<form method="post" action="../../4428/list_timings-in-parallel-supercomputer">
									<div class="qa-q-view-stats">
										<div class="qa-voting qa-voting-net" id="voting_4428">
											<div class="qa-vote-count qa-vote-count-net">
												<span class="qa-netvote-count">
													<span class="qa-netvote-count-data">0<span class="votes-up"><span class="value-title" title="0"></span></span><span class="votes-down"><span class="value-title" title="0"></span></span></span><span class="qa-netvote-count-pad"> votes</span>
												</span>
											</div>
											<div class="qa-vote-clear">
											</div>
										</div>
									</div>
									<input type="hidden" name="code" value="0-1516468012-c3ad8d67a3a7379622ebbabc8d6c4509c101896f">
								</form>
								<div class="qa-q-view-main">
									<form method="post" action="../../4428/list_timings-in-parallel-supercomputer">
										<div class="qa-q-view-content">
											<a name="4428"></a><div class="entry-content"><p>I'm working on my master thesis and want to make a scaling and profiling of FEniCS. Therefor I will use the supercomputer at Juelich research centre (JUQUEEN). </p>

<p>At the moment I implement some test cases on my local workstation and look for possibilities to collect time and memory information of my fenics applications.<br>
In this context I found the function list_timings() which gives me a nice summary. But if I'm running in parallel each process prints out its  own table so that the output becomes useless. <br>
Is there a way that just the master process prints out mean values of the timers?<br>
Are there other functions to get more interesting information of my program?</p>

<p>best regards,<br>
Thomas</p>
</div>
										</div>
										<div class="qa-q-view-tags">
											<ul class="qa-q-view-tag-list">
												<li class="qa-q-view-tag-item"><a href="../../tag/parallel" rel="tag" class="qa-tag-link">parallel</a></li>
												<li class="qa-q-view-tag-item"><a href="../../tag/supercomputer" rel="tag" class="qa-tag-link">supercomputer</a></li>
												<li class="qa-q-view-tag-item"><a href="../../tag/timers" rel="tag" class="qa-tag-link">timers</a></li>
												<li class="qa-q-view-tag-item"><a href="../../tag/collect-information" rel="tag" class="qa-tag-link">collect-information</a></li>
												<li class="qa-q-view-tag-item"><a href="../../tag/list_timings" rel="tag" class="qa-tag-link">list_timings</a></li>
											</ul>
										</div>
										<span class="qa-q-view-avatar-meta">
											<span class="qa-q-view-meta">
												<a href="../../4428/list_timings-in-parallel-supercomputer" class="qa-q-view-what">asked</a>
												<span class="qa-q-view-when">
													<span class="qa-q-view-when-data"><span class="published"><span class="value-title" title="2014-08-17T21:08:13+0000"></span>Aug 17, 2014</span></span>
												</span>
												<span class="qa-q-view-who">
													<span class="qa-q-view-who-pad">by </span>
													<span class="qa-q-view-who-data"><span class="vcard author"><a href="../../user/tombo" class="qa-user-link url nickname">tombo</a></span></span>
													<span class="qa-q-view-who-title">FEniCS Novice</span>
													<span class="qa-q-view-who-points">
														<span class="qa-q-view-who-points-pad">(</span><span class="qa-q-view-who-points-data">260</span><span class="qa-q-view-who-points-pad"> points)</span>
													</span>
												</span>
											</span>
										</span>
										<div class="qa-q-view-buttons">
										</div>
										
										<div class="qa-q-view-c-list" id="c4428_list">
											<div class="qa-c-list-item  hentry comment" id="c4455">
												<div class="qa-c-item-content">
													<a name="4455"></a><div class="entry-content"><p>There used to be just one table in parallel as well, so I posted a question on the mailing <a rel="nofollow" href="http://fenicsproject.org/pipermail/fenics/2014-August/001828.html">list</a></p>
</div>
												</div>
												<div class="qa-c-item-footer">
													<span class="qa-c-item-avatar-meta">
														<span class="qa-c-item-avatar">
															<a href="../../user/mikael-mortensen" class="qa-avatar-link"><img src="https://www.gravatar.com/avatar/d5614112a2818f1800a461e49ac229df?s=20" width="20" height="20" class="qa-avatar-image" alt=""></a>
														</span>
														<span class="qa-c-item-meta">
															<a href="../../4428/list_timings-in-parallel-supercomputer?show=4455#c4455" class="qa-c-item-what">commented</a>
															<span class="qa-c-item-when">
																<span class="qa-c-item-when-data"><span class="published"><span class="value-title" title="2014-08-18T20:28:41+0000"></span>Aug 18, 2014</span></span>
															</span>
															<span class="qa-c-item-who">
																<span class="qa-c-item-who-pad">by </span>
																<span class="qa-c-item-who-data"><span class="vcard author"><a href="../../user/mikael-mortensen" class="qa-user-link url nickname">mikael-mortensen</a></span></span>
																<span class="qa-c-item-who-title">FEniCS Expert</span>
																<span class="qa-c-item-who-points">
																	<span class="qa-c-item-who-points-pad">(</span><span class="qa-c-item-who-points-data">29,340</span><span class="qa-c-item-who-points-pad"> points)</span>
																</span>
															</span>
														</span>
													</span>
													<div class="qa-c-item-buttons">
													</div>
												</div>
												<div class="qa-c-item-clear">
												</div>
											</div> <!-- END qa-c-item -->
										</div> <!-- END qa-c-list -->
										
										<input type="hidden" name="code" value="0-1516468012-bae804b276e024a8a3b1759c8bf67d4ecf634947">
										<input type="hidden" name="qa_click" value="">
									</form>
									<div class="qa-c-form">
									</div> <!-- END qa-c-form -->
									
								</div> <!-- END qa-q-view-main -->
								<div class="qa-q-view-clear">
								</div>
							</div> <!-- END qa-q-view -->
							
						</div>
						<div class="qa-part-a-list">
							<h2 id="a_list_title">1 Answer</h2>
							<div class="qa-a-list" id="a_list">
								
								<div class="qa-a-list-item  hentry answer" id="a4447">
									<form method="post" action="../../4428/list_timings-in-parallel-supercomputer">
										<div class="qa-voting qa-voting-net" id="voting_4447">
											<div class="qa-vote-count qa-vote-count-net">
												<span class="qa-netvote-count">
													<span class="qa-netvote-count-data">0<span class="votes-up"><span class="value-title" title="0"></span></span><span class="votes-down"><span class="value-title" title="0"></span></span></span><span class="qa-netvote-count-pad"> votes</span>
												</span>
											</div>
											<div class="qa-vote-clear">
											</div>
										</div>
										<input type="hidden" name="code" value="0-1516468012-c3ad8d67a3a7379622ebbabc8d6c4509c101896f">
									</form>
									<div class="qa-a-item-main">
										<form method="post" action="../../4428/list_timings-in-parallel-supercomputer">
											<div class="qa-a-selection">
											</div>
											<div class="qa-a-item-content">
												<a name="4447"></a><div class="entry-content"><p>Hi,</p>

<p>Firstly, that output isn't useless, just not processed for your purposes. It would probably be fairly simple to parse it and average it across all processes. Plus, you could do statistics on the profiles of each process which itself is an interesting discussion (e.g.: Mean time +- distribution). Then you can discuss scaling, etc in an interesting way (and share it with us!!)</p>

<p>Also, what backend are you using? If PETSc, you can try to get it's profiling output. <br>
e.g.: Add<br>
PETScOptions.set('log_summary','profile.txt')<br>
 to the beginning of your file. It will print out some PETSc statistics to profile.txt, which should collect everything from all the MPI processes. </p>
</div>
											</div>
											<span class="qa-a-item-avatar-meta">
												<span class="qa-a-item-avatar">
													<a href="../../user/mwelland" class="qa-avatar-link"><img src="https://www.gravatar.com/avatar/af936799ea3fe5bd1cb6abb922ebbe83?s=40" width="40" height="40" class="qa-avatar-image" alt=""></a>
												</span>
												<span class="qa-a-item-meta">
													<a href="../../4428/list_timings-in-parallel-supercomputer?show=4447#a4447" class="qa-a-item-what">answered</a>
													<span class="qa-a-item-when">
														<span class="qa-a-item-when-data"><span class="published"><span class="value-title" title="2014-08-18T15:47:21+0000"></span>Aug 18, 2014</span></span>
													</span>
													<span class="qa-a-item-who">
														<span class="qa-a-item-who-pad">by </span>
														<span class="qa-a-item-who-data"><span class="vcard author"><a href="../../user/mwelland" class="qa-user-link url nickname">mwelland</a></span></span>
														<span class="qa-a-item-who-title">FEniCS User</span>
														<span class="qa-a-item-who-points">
															<span class="qa-a-item-who-points-pad">(</span><span class="qa-a-item-who-points-data">8,410</span><span class="qa-a-item-who-points-pad"> points)</span>
														</span>
													</span>
												</span>
											</span>
											<div class="qa-a-item-buttons">
												</div>
											
											<div class="qa-a-item-c-list" id="c4447_list">
												<div class="qa-c-list-item  hentry comment" id="c4481">
													<div class="qa-c-item-content">
														<a name="4481"></a><div class="entry-content"><ul>
<li>It takes a lot of computing time to write on std::out if there are so many mpi tasks. </li>
<li>And there is no guaranty that you do not have a "mixing" of the output in one line. Then it is not possible to parse it.</li>
</ul>

<p>It would be very nice if there is a function inside dolfin which does these statistics. In this case you do not have to use special profiling tools  (e.g. to improve your applications or to get information)</p>

<p>Yes I'm using PETSc and I'm already using this "petsc profiling".</p>

<p>How can I share it with you? </p>
</div>
													</div>
													<div class="qa-c-item-footer">
														<span class="qa-c-item-avatar-meta">
															<span class="qa-c-item-meta">
																<a href="../../4428/list_timings-in-parallel-supercomputer?show=4481#c4481" class="qa-c-item-what">commented</a>
																<span class="qa-c-item-when">
																	<span class="qa-c-item-when-data"><span class="published"><span class="value-title" title="2014-08-20T11:48:30+0000"></span>Aug 20, 2014</span></span>
																</span>
																<span class="qa-c-item-who">
																	<span class="qa-c-item-who-pad">by </span>
																	<span class="qa-c-item-who-data"><span class="vcard author"><a href="../../user/tombo" class="qa-user-link url nickname">tombo</a></span></span>
																	<span class="qa-c-item-who-title">FEniCS Novice</span>
																	<span class="qa-c-item-who-points">
																		<span class="qa-c-item-who-points-pad">(</span><span class="qa-c-item-who-points-data">260</span><span class="qa-c-item-who-points-pad"> points)</span>
																	</span>
																</span>
															</span>
														</span>
														<div class="qa-c-item-buttons">
														</div>
													</div>
													<div class="qa-c-item-clear">
													</div>
												</div> <!-- END qa-c-item -->
											</div> <!-- END qa-c-list -->
											
											<input type="hidden" name="code" value="0-1516468012-b63badd56f0372eb09918a104c0eb768d410f017">
											<input type="hidden" name="qa_click" value="">
										</form>
										<div class="qa-c-form">
										</div> <!-- END qa-c-form -->
										
									</div> <!-- END qa-a-item-main -->
									<div class="qa-a-item-clear">
									</div>
								</div> <!-- END qa-a-list-item -->
								
							</div> <!-- END qa-a-list -->
							
						</div>
					</div> <!-- END qa-main -->
					
				</div> <!-- END main-wrapper -->
			</div> <!-- END main-shadow -->
		</div> <!-- END body-wrapper -->
		<!-- END footer-bottom-group -->
		
		<div style="position:absolute; left:-9999px; top:-9999px;">
			<span id="qa-waiting-template" class="qa-waiting">...</span>
		</div>
	
	

</body><!-- Powered by Question2Answer - http://www.question2answer.org/ --></html>